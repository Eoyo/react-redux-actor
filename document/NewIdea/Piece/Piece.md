version-date

----- 2018-09-03

# Piece 层的开发方法

## 1. 纯参数控制

1. 纯参数控制的意义在于只要控制了这个组件的参数就能完全的控制这个组件的行为
2. 值参数为  当前组件的 **外来状态**, 函数参数是当前组件的 **事件回调**.

## 2. 参数透传

可能一个用于 connect 的组件本身很复杂, 需要模块化使得单文件的工作变得简单一点. 这时的模块化的主要目的不是为了复用, 而是为了细化大组件本身. 这时专用于这个组件的小组件可以使用参数透传以省去为小组件定义参数的时间, 而直接使用大组件的参数.

```typescript
// 如下所示, Title 和Body 共用App的参数, 这种开发方式称为参数透传.
type AppProps = {};

const Title = (p: AppProps) => {};
const Body = (p: AppProps) => {};

const App = (p: AppProps) => {
  return (
    <div>
      <Title {...p} />
      <Body {...p} />
    </div>
  );
};
```

## 3. 局部归约 (基于 React.Component);

对于有输入框和需要直接的 dom 操作 React 组件, 使用局部归约更加的有效. 归约的思想有助于理清开发思路.

使用 React.Component 实现的局部归约

## 4. 父组件代理

高级模块化的方式, 可以参照 ant-design 的菜单的实现方式, 目前我也不太懂.
